[
  {
    "objectID": "egg_production_inferential_report.html",
    "href": "egg_production_inferential_report.html",
    "title": "DSCI 522 Milestone 1",
    "section": "",
    "text": "library(readr)\nlibrary(dplyr)\nlibrary(infer)\nlibrary(ggplot2)"
  },
  {
    "objectID": "egg_production_inferential_report.html#data",
    "href": "egg_production_inferential_report.html#data",
    "title": "DSCI 522 Milestone 1",
    "section": "Data",
    "text": "Data\nThe data used in this analysis was taken from the tidytuesday repository (TidyTuesday, 2023) and was originally sourced from Open Science Framework by Samara Mendez (Mendez, 2023). Each row in the dataset represents summary data for the month, reporting on the type of egg (table vs hatching), the production process (conventional, cage-free, organic), the number of hens, the number of eggs and the source of the data."
  },
  {
    "objectID": "egg_production_inferential_report.html#analysis",
    "href": "egg_production_inferential_report.html#analysis",
    "title": "DSCI 522 Milestone 1",
    "section": "Analysis",
    "text": "Analysis\nThe number of eggs per hen was calculated from the given data by dividing the total number of eggs produced in each category for the month by the number of hens. This gives a more accurate representation of how many eggs are produced for each group, since the total number of eggs will depend on the number of hens. We then calculated the observed test statistic, difference of the means, and generated a null distribution through a 1000 repetition permutation simulation. From this simulated null distribution we calculated the p-value for our observed test statistic. The R programming language (R Development Core Team, 2023) and the following packages were used to conduct the analysis: dplyr(dplyr, n.d.), readr(readr, n.d.), infer(Bray et al., n.d.) and ggplot(ggplot2, n.d.)."
  },
  {
    "objectID": "egg_production_inferential_report.html#eda",
    "href": "egg_production_inferential_report.html#eda",
    "title": "DSCI 522 Milestone 1",
    "section": "EDA",
    "text": "EDA\n\n# read in data\negg_prod &lt;- read_csv(\"../data/egg-production.csv\")\n\nRows: 320 Columns: 6\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (3): prod_type, prod_process, source\ndbl  (2): n_hens, n_eggs\ndate (1): observed_month\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\negg_prod\n\n# A tibble: 320 × 6\n   observed_month prod_type     prod_process   n_hens     n_eggs source         \n   &lt;date&gt;         &lt;chr&gt;         &lt;chr&gt;           &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;          \n 1 2016-07-31     hatching eggs all          57975000 1147000000 ChicEggs-09-23…\n 2 2016-08-31     hatching eggs all          57595000 1142700000 ChicEggs-10-21…\n 3 2016-09-30     hatching eggs all          57161000 1093300000 ChicEggs-11-22…\n 4 2016-10-31     hatching eggs all          56857000 1126700000 ChicEggs-12-23…\n 5 2016-11-30     hatching eggs all          57116000 1096600000 ChicEggs-01-24…\n 6 2016-12-31     hatching eggs all          57750000 1132900000 ChicEggs-02-28…\n 7 2017-01-31     hatching eggs all          57991000 1123400000 ChicEggs-03-21…\n 8 2017-02-28     hatching eggs all          58286000 1014500000 ChicEggs-04-21…\n 9 2017-03-31     hatching eggs all          58735000 1128500000 ChicEggs-05-22…\n10 2017-04-30     hatching eggs all          59072000 1097200000 ChicEggs-06-23…\n# ℹ 310 more rows\n\n\nStep 1: Looking at the first and last few rows of the data. Finding the column data types and the NA values if any.\n\nsummary(egg_prod)\n\n observed_month        prod_type         prod_process           n_hens         \n Min.   :2016-07-31   Length:320         Length:320         Min.   : 13500000  \n 1st Qu.:2018-03-31   Class :character   Class :character   1st Qu.: 18174767  \n Median :2019-11-30   Mode  :character   Mode  :character   Median : 62135000  \n Mean   :2019-11-30                                         Mean   :114593880  \n 3rd Qu.:2021-07-31                                         3rd Qu.:299541500  \n Max.   :2023-03-31                                         Max.   :341166000  \n                                                            NA's   :9          \n     n_eggs             source         \n Min.   :2.981e+08   Length:320        \n 1st Qu.:4.739e+08   Class :character  \n Median :1.206e+09   Mode  :character  \n Mean   :2.701e+09                     \n 3rd Qu.:3.677e+09                     \n Max.   :8.601e+09                     \n                                       \n\nstr(egg_prod)\n\nspc_tbl_ [320 × 6] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ observed_month: Date[1:320], format: \"2016-07-31\" \"2016-08-31\" ...\n $ prod_type     : chr [1:320] \"hatching eggs\" \"hatching eggs\" \"hatching eggs\" \"hatching eggs\" ...\n $ prod_process  : chr [1:320] \"all\" \"all\" \"all\" \"all\" ...\n $ n_hens        : num [1:320] 57975000 57595000 57161000 56857000 57116000 ...\n $ n_eggs        : num [1:320] 1.15e+09 1.14e+09 1.09e+09 1.13e+09 1.10e+09 ...\n $ source        : chr [1:320] \"ChicEggs-09-23-2016.pdf\" \"ChicEggs-10-21-2016.pdf\" \"ChicEggs-11-22-2016.pdf\" \"ChicEggs-12-23-2016.pdf\" ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   observed_month = col_date(format = \"\"),\n  ..   prod_type = col_character(),\n  ..   prod_process = col_character(),\n  ..   n_hens = col_double(),\n  ..   n_eggs = col_double(),\n  ..   source = col_character()\n  .. )\n - attr(*, \"problems\")=&lt;externalptr&gt; \n\nhead(egg_prod)\n\n# A tibble: 6 × 6\n  observed_month prod_type     prod_process   n_hens     n_eggs source          \n  &lt;date&gt;         &lt;chr&gt;         &lt;chr&gt;           &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;           \n1 2016-07-31     hatching eggs all          57975000 1147000000 ChicEggs-09-23-…\n2 2016-08-31     hatching eggs all          57595000 1142700000 ChicEggs-10-21-…\n3 2016-09-30     hatching eggs all          57161000 1093300000 ChicEggs-11-22-…\n4 2016-10-31     hatching eggs all          56857000 1126700000 ChicEggs-12-23-…\n5 2016-11-30     hatching eggs all          57116000 1096600000 ChicEggs-01-24-…\n6 2016-12-31     hatching eggs all          57750000 1132900000 ChicEggs-02-28-…\n\ntail(egg_prod)\n\n# A tibble: 6 × 6\n  observed_month prod_type  prod_process          n_hens     n_eggs source      \n  &lt;date&gt;         &lt;chr&gt;      &lt;chr&gt;                  &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;       \n1 2022-10-31     table eggs cage-free (organic) 17984833 462870566. PY20221101M…\n2 2022-11-30     table eggs cage-free (organic) 17984833 449033143. PY20221201M…\n3 2022-12-31     table eggs cage-free (organic) 18034386 467549794. PY20230103M…\n4 2023-01-31     table eggs cage-free (organic) 17464318 448923754. PY20230201M…\n5 2023-02-28     table eggs cage-free (organic) 16748968 384588000  PY20230301M…\n6 2023-03-31     table eggs cage-free (organic) 17558594 445822869. PY20230403M…\n\nnrow(egg_prod)\n\n[1] 320\n\n\nThe source column should not be in the data frame for the analysis. n_hens and n_eggs are both numerical data types where as prod_type and prod_process are categorical data types. We can also take note that the n_hens has 9 NA values. The observed month gives us the time frame of when the data was recorded. We can also see that we have a relatively low number of rows: 320.\nStep 2: Visualize the distribution of both n_hens and n_eggs columns as well as the correlation between them.\n\nggplot(egg_prod,aes(x = n_eggs)) + geom_histogram() + labs(title = \"Histogram of number of eggs in a month\",\n       x = \"Number of eggs per month\",\n       y = \"Count\")\n\n\n\nggplot(egg_prod,aes(x = n_hens)) + geom_histogram() + labs(title = \"Histogram of number of hens\",\n       x = \"Number of hens per month\",\n       y = \"Count\")\n\n\n\ndf &lt;- na.omit(egg_prod)\n\ncor(df$n_hens, df$n_eggs)\n\n[1] 0.9979883\n\n\nWe can see it is hard to determine a specific shape of the distributions but this is expected because we have a relatively small sample size. We also see that both distributions are somewhat similar. The correlation between the 2 variables is high at 0.9979883 meaning there is likely some strong relation between n_hens and n_eggs.\nStep 3: Visualize the distribution of both prod_type and prod_process.\n\nggplot(egg_prod,aes(x = prod_type)) + geom_bar() + labs(title = \"Distribution of production type\",\n       x = \"Production type\",\n       y = \"Count\")\n\n\n\nggplot(egg_prod,aes(x = prod_process)) + geom_bar() + labs(title = \"Distribution of production process\",\n       x = \"Production process\",\n       y = \"Count\")\n\n\n\n\nIn our data we have a higher production of tables eggs than hatching eggs. Regarding the processes we have much more all process than other kinds of process and about the same count for the cage-free organic vs non organic."
  },
  {
    "objectID": "egg_production_inferential_report.html#research-question-and-hypotheses",
    "href": "egg_production_inferential_report.html#research-question-and-hypotheses",
    "title": "DSCI 522 Milestone 1",
    "section": "Research Question and Hypotheses",
    "text": "Research Question and Hypotheses\nWe aimed to investigate whether there is a difference in the average number of eggs produced by each hen between hatching eggs and table eggs. To address this question, we formulated the following hypotheses:\n\\(H_{0}\\): The mean number of eggs produced by each hen for hatching, \\(\\mu_{hatching}\\), is equal to the mean number of eggs produced by each hen for table eggs, \\(\\mu_{table}\\). Mathematically, \\(\\mu_{hatching} = \\mu_{table}\\).\n\\(H_{A}\\): The mean number of eggs produced by each hen for hatching, \\(\\mu_{hatching}\\), is NOT equal to the mean number of eggs produced by each hen for table eggs, \\(\\mu_{table}\\). Mathematically, \\(\\mu_{hatching} \\ne \\mu_{table}\\).\nwhere \\(\\mu_{hatching}\\) represents the population mean number of eggs produced by each hen for hatching, and \\(\\mu_{table}\\) represents the population mean number of eggs produced by each hen for table eggs.\nThese hypotheses guided our analysis to determine whether a statistically significant difference exists in egg production between hatching eggs and table eggs."
  },
  {
    "objectID": "egg_production_inferential_report.html#observed-test-statistic",
    "href": "egg_production_inferential_report.html#observed-test-statistic",
    "title": "DSCI 522 Milestone 1",
    "section": "Observed Test Statistic",
    "text": "Observed Test Statistic\nTo test these hypotheses, we calculated the observed test statistic \\(\\delta^{*}\\), which represents the difference between the observed mean number of eggs produced by each hen for hatching eggs and the observed mean number of eggs produced by each hen for table eggs, as derived from our egg production dataset.\nThe observed test statistic \\(\\delta^{*}\\) = \\(\\hat{\\mu}_\\text{hatching} - \\hat{\\mu}_\\text{table}\\)"
  },
  {
    "objectID": "egg_production_inferential_report.html#hypothesis-test-using-the-permutation-method",
    "href": "egg_production_inferential_report.html#hypothesis-test-using-the-permutation-method",
    "title": "DSCI 522 Milestone 1",
    "section": "Hypothesis Test Using the Permutation Method",
    "text": "Hypothesis Test Using the Permutation Method\nWith these hypotheses and observed test statistic in place, we could conduct our hypothesis test using the permutation method to draw conclusions about the potential differences in egg production between the two types.\nIn our data wrangling phase, we calculated the mean number of eggs produced per hen, recognizing that the total number of eggs depends on the number of hens involved.\nAdditionally, it is important to note that the “cage-free” production process is only applicable to table eggs, not hatching eggs. To ensure an fair and accurate comparison between hatching and table eggs, we filtered the dataset to include only entries where the “prod_process” variable was labeled as “all”.\n\n# create a new column to calculate the mean number of eggs produced by each hen\n# Since cage-free is only available for table eggs, we filter the prod_process is equal to all \negg_prod &lt;- egg_prod |&gt;\n  filter(prod_process == \"all\") |&gt;\n  mutate(n_egg_by_hen = n_eggs / n_hens)\negg_prod\n\n# A tibble: 160 × 7\n   observed_month prod_type     prod_process   n_hens n_eggs source n_egg_by_hen\n   &lt;date&gt;         &lt;chr&gt;         &lt;chr&gt;           &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;\n 1 2016-07-31     hatching eggs all          57975000 1.15e9 ChicE…         19.8\n 2 2016-08-31     hatching eggs all          57595000 1.14e9 ChicE…         19.8\n 3 2016-09-30     hatching eggs all          57161000 1.09e9 ChicE…         19.1\n 4 2016-10-31     hatching eggs all          56857000 1.13e9 ChicE…         19.8\n 5 2016-11-30     hatching eggs all          57116000 1.10e9 ChicE…         19.2\n 6 2016-12-31     hatching eggs all          57750000 1.13e9 ChicE…         19.6\n 7 2017-01-31     hatching eggs all          57991000 1.12e9 ChicE…         19.4\n 8 2017-02-28     hatching eggs all          58286000 1.01e9 ChicE…         17.4\n 9 2017-03-31     hatching eggs all          58735000 1.13e9 ChicE…         19.2\n10 2017-04-30     hatching eggs all          59072000 1.10e9 ChicE…         18.6\n# ℹ 150 more rows\n\n\nSubsequently, we proceeded to analyze the data by computing a test statistic, that would allow us to assess the difference in egg production between hatching and table eggs, with careful consideration of handling any missing values (NA).\n\n# manipulate the data to calculate the test statistic\nn_eggs_by_hen_set &lt;- egg_prod |&gt;\n  group_by(prod_type) |&gt;\n  summarise(n = n(),mean_n_eggs_by_hen = mean(n_egg_by_hen, na.rm = TRUE))\ntest_stat &lt;- diff(n_eggs_by_hen_set$mean_n_eggs_by_hen)\nn_eggs_by_hen_set\n\n# A tibble: 2 × 3\n  prod_type         n mean_n_eggs_by_hen\n  &lt;chr&gt;         &lt;int&gt;              &lt;dbl&gt;\n1 hatching eggs    80               19.1\n2 table eggs       80               24.6\n\ntest_stat\n\n[1] 5.526568\n\n\nWith the test statistic in hand, we can conduct our hypothesis test using the permutation method. Our approach involved generating a null distribution through 1,000 permutations, simulating the expected outcome assuming there were no difference in egg production between the two types.\n\n# set prod_type as factor\negg_prod &lt;- egg_prod |&gt;\n  mutate( prod_type = factor(prod_type))\n\n# implement Hypothesis test using the permutation\nset.seed(522)\nnull_distribution &lt;- egg_prod |&gt;\n  specify(formula = n_egg_by_hen ~ prod_type) |&gt;\n  hypothesize(null = \"independence\") |&gt;\n  generate(reps = 1000, type = \"permute\") |&gt;\n  calculate(stat = \"diff in means\", order = c(\"table eggs\", \"hatching eggs\"))\n\n# calculate the p-value\np_value &lt;- null_distribution |&gt;\n  get_pvalue(obs_stat = test_stat, direction = \"both\")\n\np_value\n\n# A tibble: 1 × 1\n  p_value\n    &lt;dbl&gt;\n1       0\n\n\nThe p-value obtained from our hypothesis test is 0, which is an extremely rare occurrence. Given that our defined significance threshold \\(\\alpha\\) is 0.05, we can reject the null hypothesis \\(H_{0}\\)(there is no difference in the average number of eggs produced by each hen between hatching eggs and table eggs) in favor of the alternative hypothesis \\(H_{A}\\)."
  },
  {
    "objectID": "egg_production_inferential_report.html#results-visualization",
    "href": "egg_production_inferential_report.html#results-visualization",
    "title": "DSCI 522 Milestone 1",
    "section": "Results Visualization",
    "text": "Results Visualization\n\nalpha_threshold_lower &lt;- quantile(null_distribution$stat, 0.025)\nalpha_threshold_upper &lt;- quantile(null_distribution$stat, 0.975)\n\nnull_dist_plot &lt;- ggplot(null_distribution, aes(x = stat)) +\n  geom_histogram(aes(y = after_stat(density)),\n                 bins = 30,\n                 colour = 1, fill = \"lightblue\") +\n  geom_density() +\n  geom_vline(xintercept = test_stat, color = \"red\", linewidth = 1) +\n  geom_vline(xintercept = c(alpha_threshold_lower, alpha_threshold_upper), linetype = \"dashed\", color = \"blue\") +\n  labs(\n    title = \"Null Distribution of the difference in means with n=1000 permutations\",\n    x = \"Difference of the means\",\n    y = \"Count\"\n  ) \n\nnull_dist_plot\n\n\n\n\nWe’ve created a visualization to further illustrate our earlier conclusion. The red vertical line on the plot represents our observed test statistic obtained from our data, which lies within the rejection region as marked by the blue dashed lines. It demonstrates that our observed test statistic would be highly unlikely to occur under the null hypothesis."
  },
  {
    "objectID": "egg_production_inferential_report.html#implications-and-future-research-directions",
    "href": "egg_production_inferential_report.html#implications-and-future-research-directions",
    "title": "DSCI 522 Milestone 1",
    "section": "Implications and Future Research Directions",
    "text": "Implications and Future Research Directions\nIn practical terms, this means that hatching eggs and table eggs do indeed exhibit distinct patterns of egg production by each hen. It suggests that tailoring production strategies for these two egg types may be necessary to optimize yields and meet consumer demands efficiently.\nLooking ahead, our research paves the way for future investigations. One promising direction is to explore the effects of different production processes on table eggs. Understanding how variations in processing methods have influence on table egg production could offer valuable insights for both the egg industry and consumers."
  }
]